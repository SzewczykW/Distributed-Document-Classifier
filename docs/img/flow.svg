<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: DDC_Flow Pages: 1 -->
<svg width="615pt" height="952pt"
 viewBox="0.00 0.00 614.50 952.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 948)">
<title>DDC_Flow</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-948 610.5,-948 610.5,4 -4,4"/>
<!-- Start -->
<g id="node1" class="node">
<title>Start</title>
<ellipse fill="#f2f2f2" stroke="black" cx="204.5" cy="-926" rx="72.99" ry="18"/>
<text text-anchor="middle" x="204.5" y="-923.5" font-family="Helvetica,sans-Serif" font-size="10.00">Start (gaspi_proc_init)</text>
</g>
<!-- RoleCheck -->
<g id="node2" class="node">
<title>RoleCheck</title>
<polygon fill="lightblue" stroke="black" points="267.5,-871 141.5,-871 141.5,-835 267.5,-835 267.5,-871"/>
<text text-anchor="middle" x="204.5" y="-856" font-family="Helvetica,sans-Serif" font-size="10.00">Check rank</text>
<text text-anchor="middle" x="204.5" y="-845" font-family="Helvetica,sans-Serif" font-size="10.00">(if manager or worker)</text>
</g>
<!-- Start&#45;&gt;RoleCheck -->
<g id="edge1" class="edge">
<title>Start&#45;&gt;RoleCheck</title>
<path fill="none" stroke="black" d="M204.5,-907.81C204.5,-899.79 204.5,-890.05 204.5,-881.07"/>
<polygon fill="black" stroke="black" points="208,-881.03 204.5,-871.03 201,-881.03 208,-881.03"/>
</g>
<!-- M_CreateSegs -->
<g id="node3" class="node">
<title>M_CreateSegs</title>
<polygon fill="lightblue" stroke="black" points="200,-784 21,-784 21,-748 200,-748 200,-784"/>
<text text-anchor="middle" x="110.5" y="-769" font-family="Helvetica,sans-Serif" font-size="10.00">Manager: create GASPI segments</text>
<text text-anchor="middle" x="110.5" y="-758" font-family="Helvetica,sans-Serif" font-size="10.00">(DICT, WORK, RESULT)</text>
</g>
<!-- RoleCheck&#45;&gt;M_CreateSegs -->
<g id="edge2" class="edge">
<title>RoleCheck&#45;&gt;M_CreateSegs</title>
<path fill="none" stroke="black" d="M141.49,-839.89C129.75,-834.75 118.87,-827.42 111.5,-817 106.9,-810.49 105.47,-802.23 105.53,-794.3"/>
<polygon fill="black" stroke="black" points="109.02,-794.49 106.32,-784.24 102.04,-793.94 109.02,-794.49"/>
<text text-anchor="middle" x="194" y="-805.8" font-family="Times,serif" font-size="14.00">if rank 0 then manager</text>
</g>
<!-- W_GetSegPtr -->
<g id="node12" class="node">
<title>W_GetSegPtr</title>
<polygon fill="lightblue" stroke="black" points="379,-784 218,-784 218,-748 379,-748 379,-784"/>
<text text-anchor="middle" x="298.5" y="-769" font-family="Helvetica,sans-Serif" font-size="10.00">Worker: get segment pointers</text>
<text text-anchor="middle" x="298.5" y="-758" font-family="Helvetica,sans-Serif" font-size="10.00">(DICT, WORK, RESULT)</text>
</g>
<!-- RoleCheck&#45;&gt;W_GetSegPtr -->
<g id="edge13" class="edge">
<title>RoleCheck&#45;&gt;W_GetSegPtr</title>
<path fill="none" stroke="black" d="M251.86,-834.92C260.83,-830.13 269.56,-824.21 276.5,-817 282.77,-810.49 287.42,-801.9 290.78,-793.68"/>
<polygon fill="black" stroke="black" points="294.17,-794.6 294.28,-784.01 287.59,-792.22 294.17,-794.6"/>
<text text-anchor="middle" x="328.5" y="-805.8" font-family="Times,serif" font-size="14.00">else worker</text>
</g>
<!-- M_DictRead -->
<g id="node4" class="node">
<title>M_DictRead</title>
<polygon fill="lightblue" stroke="black" points="178,-711 39,-711 39,-675 178,-675 178,-711"/>
<text text-anchor="middle" x="108.5" y="-690.5" font-family="Helvetica,sans-Serif" font-size="10.00">Manager: read dictionary</text>
</g>
<!-- M_CreateSegs&#45;&gt;M_DictRead -->
<g id="edge3" class="edge">
<title>M_CreateSegs&#45;&gt;M_DictRead</title>
<path fill="none" stroke="black" d="M110.02,-747.81C109.79,-739.79 109.52,-730.05 109.26,-721.07"/>
<polygon fill="black" stroke="black" points="112.76,-720.93 108.98,-711.03 105.76,-721.12 112.76,-720.93"/>
</g>
<!-- M_BcastDict -->
<g id="node5" class="node">
<title>M_BcastDict</title>
<polygon fill="lightblue" stroke="black" points="203,-638 0,-638 0,-602 203,-602 203,-638"/>
<text text-anchor="middle" x="101.5" y="-617.5" font-family="Helvetica,sans-Serif" font-size="10.00">Manager: write dict to DICT_SEGMENT</text>
</g>
<!-- M_DictRead&#45;&gt;M_BcastDict -->
<g id="edge4" class="edge">
<title>M_DictRead&#45;&gt;M_BcastDict</title>
<path fill="none" stroke="black" d="M106.81,-674.81C106.01,-666.79 105.05,-657.05 104.17,-648.07"/>
<polygon fill="black" stroke="black" points="107.64,-647.64 103.18,-638.03 100.68,-648.32 107.64,-647.64"/>
</g>
<!-- M_ListFiles -->
<g id="node6" class="node">
<title>M_ListFiles</title>
<polygon fill="lightblue" stroke="black" points="177,-565 26,-565 26,-529 177,-529 177,-565"/>
<text text-anchor="middle" x="101.5" y="-544.5" font-family="Helvetica,sans-Serif" font-size="10.00">Manager: list input .txt files</text>
</g>
<!-- M_BcastDict&#45;&gt;M_ListFiles -->
<g id="edge5" class="edge">
<title>M_BcastDict&#45;&gt;M_ListFiles</title>
<path fill="none" stroke="black" d="M101.5,-601.81C101.5,-593.79 101.5,-584.05 101.5,-575.07"/>
<polygon fill="black" stroke="black" points="105,-575.03 101.5,-565.03 98,-575.03 105,-575.03"/>
</g>
<!-- M_AssignWork -->
<g id="node7" class="node">
<title>M_AssignWork</title>
<polygon fill="lightblue" stroke="black" points="188,-478 15,-478 15,-442 188,-442 188,-478"/>
<text text-anchor="middle" x="101.5" y="-463" font-family="Helvetica,sans-Serif" font-size="10.00">Manager: write_notify files</text>
<text text-anchor="middle" x="101.5" y="-452" font-family="Helvetica,sans-Serif" font-size="10.00">to workers via WORK_SEGMENT</text>
</g>
<!-- M_ListFiles&#45;&gt;M_AssignWork -->
<g id="edge6" class="edge">
<title>M_ListFiles&#45;&gt;M_AssignWork</title>
<path fill="none" stroke="black" d="M101.5,-528.8C101.5,-517.16 101.5,-501.55 101.5,-488.24"/>
<polygon fill="black" stroke="black" points="105,-488.18 101.5,-478.18 98,-488.18 105,-488.18"/>
</g>
<!-- M_WaitNotif -->
<g id="node8" class="node">
<title>M_WaitNotif</title>
<polygon fill="lightblue" stroke="black" points="232.5,-370 86.5,-370 86.5,-334 232.5,-334 232.5,-370"/>
<text text-anchor="middle" x="159.5" y="-355" font-family="Helvetica,sans-Serif" font-size="10.00">Manager: notify_waitsome</text>
<text text-anchor="middle" x="159.5" y="-344" font-family="Helvetica,sans-Serif" font-size="10.00">for WORK_DONE_NOTIF</text>
</g>
<!-- M_AssignWork&#45;&gt;M_WaitNotif -->
<g id="edge7" class="edge">
<title>M_AssignWork&#45;&gt;M_WaitNotif</title>
<path fill="none" stroke="black" d="M110.82,-441.97C120.07,-425.07 134.37,-398.94 145.08,-379.36"/>
<polygon fill="black" stroke="black" points="148.28,-380.79 150.01,-370.34 142.14,-377.43 148.28,-380.79"/>
</g>
<!-- M_ReadResults -->
<g id="node9" class="node">
<title>M_ReadResults</title>
<polygon fill="lightblue" stroke="black" points="226,-283 93,-283 93,-247 226,-247 226,-283"/>
<text text-anchor="middle" x="159.5" y="-268" font-family="Helvetica,sans-Serif" font-size="10.00">Manager: read results</text>
<text text-anchor="middle" x="159.5" y="-257" font-family="Helvetica,sans-Serif" font-size="10.00">from RESULT_SEGMENT</text>
</g>
<!-- M_WaitNotif&#45;&gt;M_ReadResults -->
<g id="edge8" class="edge">
<title>M_WaitNotif&#45;&gt;M_ReadResults</title>
<path fill="none" stroke="black" d="M159.5,-333.8C159.5,-322.16 159.5,-306.55 159.5,-293.24"/>
<polygon fill="black" stroke="black" points="163,-293.18 159.5,-283.18 156,-293.18 163,-293.18"/>
</g>
<!-- M_WriteOutput -->
<g id="node10" class="node">
<title>M_WriteOutput</title>
<polygon fill="lightblue" stroke="black" points="235.5,-196 83.5,-196 83.5,-160 235.5,-160 235.5,-196"/>
<text text-anchor="middle" x="159.5" y="-175.5" font-family="Helvetica,sans-Serif" font-size="10.00">Manager: write result to file</text>
</g>
<!-- M_ReadResults&#45;&gt;M_WriteOutput -->
<g id="edge9" class="edge">
<title>M_ReadResults&#45;&gt;M_WriteOutput</title>
<path fill="none" stroke="black" d="M159.5,-246.8C159.5,-235.16 159.5,-219.55 159.5,-206.24"/>
<polygon fill="black" stroke="black" points="163,-206.18 159.5,-196.18 156,-206.18 163,-206.18"/>
</g>
<!-- M_WriteOutput&#45;&gt;M_AssignWork -->
<g id="edge10" class="edge">
<title>M_WriteOutput&#45;&gt;M_AssignWork</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M132.08,-196.04C115.17,-208.1 94.64,-225.85 83.5,-247 51.85,-307.08 74.94,-390.2 90.47,-432.29"/>
<polygon fill="black" stroke="black" points="87.28,-433.74 94.12,-441.82 93.82,-431.23 87.28,-433.74"/>
<text text-anchor="middle" x="108" y="-304.8" font-family="Times,serif" font-size="14.00">more files?</text>
</g>
<!-- M_CleanupSegs -->
<g id="node11" class="node">
<title>M_CleanupSegs</title>
<polygon fill="lightblue" stroke="black" points="397,-109 218,-109 218,-73 397,-73 397,-109"/>
<text text-anchor="middle" x="307.5" y="-88.5" font-family="Helvetica,sans-Serif" font-size="10.00">Manager: delete GASPI segments</text>
</g>
<!-- M_WriteOutput&#45;&gt;M_CleanupSegs -->
<g id="edge11" class="edge">
<title>M_WriteOutput&#45;&gt;M_CleanupSegs</title>
<path fill="none" stroke="black" d="M189.45,-159.8C212.39,-146.62 244.22,-128.34 269.05,-114.08"/>
<polygon fill="black" stroke="black" points="270.92,-117.05 277.85,-109.03 267.43,-110.98 270.92,-117.05"/>
<text text-anchor="middle" x="271" y="-130.8" font-family="Times,serif" font-size="14.00">all done</text>
</g>
<!-- End -->
<g id="node19" class="node">
<title>End</title>
<ellipse fill="#f2f2f2" stroke="black" cx="425.5" cy="-18" rx="57.88" ry="18"/>
<text text-anchor="middle" x="425.5" y="-15.5" font-family="Helvetica,sans-Serif" font-size="10.00">gaspi_proc_term</text>
</g>
<!-- M_CleanupSegs&#45;&gt;End -->
<g id="edge12" class="edge">
<title>M_CleanupSegs&#45;&gt;End</title>
<path fill="none" stroke="black" d="M335.76,-72.99C352.37,-63 373.48,-50.3 391.06,-39.72"/>
<polygon fill="black" stroke="black" points="393.12,-42.57 399.88,-34.41 389.51,-36.57 393.12,-42.57"/>
</g>
<!-- W_RecvDict -->
<g id="node13" class="node">
<title>W_RecvDict</title>
<polygon fill="lightblue" stroke="black" points="363.5,-711 233.5,-711 233.5,-675 363.5,-675 363.5,-711"/>
<text text-anchor="middle" x="298.5" y="-696" font-family="Helvetica,sans-Serif" font-size="10.00">Worker: read dictionary</text>
<text text-anchor="middle" x="298.5" y="-685" font-family="Helvetica,sans-Serif" font-size="10.00">from DICT_SEGMENT</text>
</g>
<!-- W_GetSegPtr&#45;&gt;W_RecvDict -->
<g id="edge14" class="edge">
<title>W_GetSegPtr&#45;&gt;W_RecvDict</title>
<path fill="none" stroke="black" d="M298.5,-747.81C298.5,-739.79 298.5,-730.05 298.5,-721.07"/>
<polygon fill="black" stroke="black" points="302,-721.03 298.5,-711.03 295,-721.03 302,-721.03"/>
</g>
<!-- W_WaitWork -->
<g id="node14" class="node">
<title>W_WaitWork</title>
<polygon fill="lightblue" stroke="black" points="378,-638 221,-638 221,-602 378,-602 378,-638"/>
<text text-anchor="middle" x="299.5" y="-623" font-family="Helvetica,sans-Serif" font-size="10.00">Worker: notify_waitsome</text>
<text text-anchor="middle" x="299.5" y="-612" font-family="Helvetica,sans-Serif" font-size="10.00">for WORK_AVAILABLE_NOTIF</text>
</g>
<!-- W_RecvDict&#45;&gt;W_WaitWork -->
<g id="edge15" class="edge">
<title>W_RecvDict&#45;&gt;W_WaitWork</title>
<path fill="none" stroke="black" d="M298.74,-674.81C298.86,-666.79 298.99,-657.05 299.12,-648.07"/>
<polygon fill="black" stroke="black" points="302.62,-648.08 299.26,-638.03 295.62,-647.98 302.62,-648.08"/>
</g>
<!-- W_ReadFile -->
<g id="node15" class="node">
<title>W_ReadFile</title>
<polygon fill="lightblue" stroke="black" points="493,-565 366,-565 366,-529 493,-529 493,-565"/>
<text text-anchor="middle" x="429.5" y="-550" font-family="Helvetica,sans-Serif" font-size="10.00">Worker: read filename</text>
<text text-anchor="middle" x="429.5" y="-539" font-family="Helvetica,sans-Serif" font-size="10.00">from WORK_SEGMENT</text>
</g>
<!-- W_WaitWork&#45;&gt;W_ReadFile -->
<g id="edge16" class="edge">
<title>W_WaitWork&#45;&gt;W_ReadFile</title>
<path fill="none" stroke="black" d="M330.64,-601.99C348.2,-592.4 370.33,-580.32 389.2,-570.01"/>
<polygon fill="black" stroke="black" points="391.07,-572.98 398.17,-565.11 387.71,-566.84 391.07,-572.98"/>
</g>
<!-- W_Classify -->
<g id="node16" class="node">
<title>W_Classify</title>
<polygon fill="lightblue" stroke="black" points="469.5,-478 323.5,-478 323.5,-442 469.5,-442 469.5,-478"/>
<text text-anchor="middle" x="396.5" y="-457.5" font-family="Helvetica,sans-Serif" font-size="10.00">Worker: read file &amp; classify</text>
</g>
<!-- W_ReadFile&#45;&gt;W_Classify -->
<g id="edge19" class="edge">
<title>W_ReadFile&#45;&gt;W_Classify</title>
<path fill="none" stroke="black" d="M422.82,-528.8C418.26,-517.05 412.12,-501.24 406.92,-487.84"/>
<polygon fill="black" stroke="black" points="410.05,-486.23 403.17,-478.18 403.52,-488.76 410.05,-486.23"/>
<text text-anchor="middle" x="445" y="-499.8" font-family="Times,serif" font-size="14.00">valid file</text>
</g>
<!-- W_CheckShutdown -->
<g id="node18" class="node">
<title>W_CheckShutdown</title>
<polygon fill="lightblue" stroke="black" points="569,-424 458,-424 458,-388 569,-388 569,-424"/>
<text text-anchor="middle" x="513.5" y="-409" font-family="Helvetica,sans-Serif" font-size="10.00">Worker: check for</text>
<text text-anchor="middle" x="513.5" y="-398" font-family="Helvetica,sans-Serif" font-size="10.00">SHUTDOWN_NOTIF</text>
</g>
<!-- W_ReadFile&#45;&gt;W_CheckShutdown -->
<g id="edge17" class="edge">
<title>W_ReadFile&#45;&gt;W_CheckShutdown</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M460.48,-528.96C467.51,-523.93 474.39,-517.89 479.5,-511 496.5,-488.08 505.25,-456.25 509.59,-433.86"/>
<polygon fill="black" stroke="black" points="513.03,-434.46 511.33,-424 506.14,-433.24 513.03,-434.46"/>
<text text-anchor="middle" x="547.5" y="-499.8" font-family="Times,serif" font-size="14.00">empty filename?</text>
</g>
<!-- W_WriteResult -->
<g id="node17" class="node">
<title>W_WriteResult</title>
<polygon fill="lightblue" stroke="black" points="400.5,-370 250.5,-370 250.5,-334 400.5,-334 400.5,-370"/>
<text text-anchor="middle" x="325.5" y="-355" font-family="Helvetica,sans-Serif" font-size="10.00">Worker: write_notify results</text>
<text text-anchor="middle" x="325.5" y="-344" font-family="Helvetica,sans-Serif" font-size="10.00">to RESULT_SEGMENT</text>
</g>
<!-- W_Classify&#45;&gt;W_WriteResult -->
<g id="edge20" class="edge">
<title>W_Classify&#45;&gt;W_WriteResult</title>
<path fill="none" stroke="black" d="M341.54,-441.99C333.99,-437.34 327.21,-431.44 322.5,-424 314.4,-411.21 314.76,-394.37 317.32,-380.29"/>
<polygon fill="black" stroke="black" points="320.81,-380.71 319.61,-370.19 313.99,-379.17 320.81,-380.71"/>
<text text-anchor="middle" x="386" y="-402.3" font-family="Times,serif" font-size="14.00">wait for next task</text>
</g>
<!-- W_WriteResult&#45;&gt;W_WaitWork -->
<g id="edge21" class="edge">
<title>W_WriteResult&#45;&gt;W_WaitWork</title>
<path fill="none" stroke="black" d="M315.97,-370.11C301.13,-398.65 274.64,-458.08 279.5,-511 282.06,-538.9 288.27,-570.36 293.1,-592.1"/>
<polygon fill="black" stroke="black" points="289.7,-592.95 295.34,-601.93 296.53,-591.4 289.7,-592.95"/>
<text text-anchor="middle" x="343" y="-499.8" font-family="Times,serif" font-size="14.00">wait for next task</text>
</g>
<!-- W_CheckShutdown&#45;&gt;End -->
<g id="edge18" class="edge">
<title>W_CheckShutdown&#45;&gt;End</title>
<path fill="none" stroke="black" d="M504.96,-387.87C496.4,-369.12 484.5,-337.92 484.5,-309.5 484.5,-309.5 484.5,-309.5 484.5,-90 484.5,-70.53 471.21,-53.55 457.25,-41.08"/>
<polygon fill="black" stroke="black" points="459.42,-38.33 449.5,-34.63 454.94,-43.71 459.42,-38.33"/>
<text text-anchor="middle" x="519.5" y="-217.8" font-family="Times,serif" font-size="14.00">shutdown</text>
</g>
</g>
</svg>
